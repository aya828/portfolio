{"ast":null,"code":"var express = require('express');\n\nvar router = express.Router();\n\nvar nodemailer = require('nodemailer');\n\nvar cors = require('cors');\n\nconst creds = require('./config');\n\nvar transport = {\n  host: 'smtp.gmail.com',\n  port: 587,\n  auth: {\n    user: creds.USER,\n    pass: creds.PASS\n  }\n};\nvar transporter = nodemailer.createTransport(transport);\ntransporter.verify((error, success) => {\n  if (error) {\n    console.log(error);\n  } else {\n    console.log('Server is ready to take messages');\n  }\n});\nrouter.post('/send', (req, res, next) => {\n  var name = req.body.name;\n  var email = req.body.email;\n  var message = req.body.message;\n  var content = `name: ${name} \\n email: ${email} \\n message: ${message} `;\n  var mail = {\n    from: name,\n    to: 'aya.yoshida8@gmail.com',\n    subject: 'New Message from Contact Form',\n    text: content\n  };\n  transporter.sendMail(mail, (err, data) => {\n    if (err) {\n      res.json({\n        status: 'fail'\n      });\n    } else {\n      res.json({\n        status: 'success'\n      });\n    }\n  });\n});\nconst app = express();\napp.use(cors());\napp.use(express.json());\napp.use('/', router);\napp.listen(3002);","map":{"version":3,"sources":["/Users/aya/Desktop/GWU/Portfolio/client/src/components/utils/index.js"],"names":["express","require","router","Router","nodemailer","cors","creds","transport","host","port","auth","user","USER","pass","PASS","transporter","createTransport","verify","error","success","console","log","post","req","res","next","name","body","email","message","content","mail","from","to","subject","text","sendMail","err","data","json","status","app","use","listen"],"mappings":"AAAA,IAAIA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAArB;;AACA,IAAIC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAb;;AACA,IAAIC,UAAU,GAAGH,OAAO,CAAC,YAAD,CAAxB;;AACA,IAAII,IAAI,GAAGJ,OAAO,CAAC,MAAD,CAAlB;;AACA,MAAMK,KAAK,GAAGL,OAAO,CAAC,UAAD,CAArB;;AAEA,IAAIM,SAAS,GAAG;AACZC,EAAAA,IAAI,EAAE,gBADM;AAEZC,EAAAA,IAAI,EAAE,GAFM;AAGZC,EAAAA,IAAI,EAAE;AACNC,IAAAA,IAAI,EAAEL,KAAK,CAACM,IADN;AAENC,IAAAA,IAAI,EAAEP,KAAK,CAACQ;AAFN;AAHM,CAAhB;AASA,IAAIC,WAAW,GAAGX,UAAU,CAACY,eAAX,CAA2BT,SAA3B,CAAlB;AAEAQ,WAAW,CAACE,MAAZ,CAAmB,CAACC,KAAD,EAAQC,OAAR,KAAoB;AACrC,MAAID,KAAJ,EAAW;AACTE,IAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ;AACD,GAFD,MAEO;AACLE,IAAAA,OAAO,CAACC,GAAR,CAAY,kCAAZ;AACD;AACF,CAND;AAQAnB,MAAM,CAACoB,IAAP,CAAY,OAAZ,EAAqB,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACvC,MAAIC,IAAI,GAAGH,GAAG,CAACI,IAAJ,CAASD,IAApB;AACA,MAAIE,KAAK,GAAGL,GAAG,CAACI,IAAJ,CAASC,KAArB;AACA,MAAIC,OAAO,GAAGN,GAAG,CAACI,IAAJ,CAASE,OAAvB;AACA,MAAIC,OAAO,GAAI,SAAQJ,IAAK,cAAaE,KAAM,gBAAeC,OAAQ,GAAtE;AAEA,MAAIE,IAAI,GAAG;AACTC,IAAAA,IAAI,EAAEN,IADG;AAETO,IAAAA,EAAE,EAAE,wBAFK;AAGTC,IAAAA,OAAO,EAAE,+BAHA;AAITC,IAAAA,IAAI,EAAEL;AAJG,GAAX;AAOAf,EAAAA,WAAW,CAACqB,QAAZ,CAAqBL,IAArB,EAA2B,CAACM,GAAD,EAAMC,IAAN,KAAe;AACxC,QAAID,GAAJ,EAAS;AACPb,MAAAA,GAAG,CAACe,IAAJ,CAAS;AACPC,QAAAA,MAAM,EAAE;AADD,OAAT;AAGD,KAJD,MAIO;AACLhB,MAAAA,GAAG,CAACe,IAAJ,CAAS;AACRC,QAAAA,MAAM,EAAE;AADA,OAAT;AAGD;AACF,GAVD;AAWD,CAxBD;AA0BA,MAAMC,GAAG,GAAGzC,OAAO,EAAnB;AACAyC,GAAG,CAACC,GAAJ,CAAQrC,IAAI,EAAZ;AACAoC,GAAG,CAACC,GAAJ,CAAQ1C,OAAO,CAACuC,IAAR,EAAR;AACAE,GAAG,CAACC,GAAJ,CAAQ,GAAR,EAAaxC,MAAb;AACAuC,GAAG,CAACE,MAAJ,CAAW,IAAX","sourcesContent":["var express = require('express');\nvar router = express.Router();\nvar nodemailer = require('nodemailer');\nvar cors = require('cors');\nconst creds = require('./config');\n\nvar transport = {\n    host: 'smtp.gmail.com',\n    port: 587,\n    auth: {\n    user: creds.USER,\n    pass: creds.PASS\n  }\n}\n\nvar transporter = nodemailer.createTransport(transport)\n\ntransporter.verify((error, success) => {\n  if (error) {\n    console.log(error);\n  } else {\n    console.log('Server is ready to take messages');\n  }\n});\n\nrouter.post('/send', (req, res, next) => {\n  var name = req.body.name\n  var email = req.body.email\n  var message = req.body.message\n  var content = `name: ${name} \\n email: ${email} \\n message: ${message} `\n\n  var mail = {\n    from: name,\n    to: 'aya.yoshida8@gmail.com',\n    subject: 'New Message from Contact Form',\n    text: content\n  }\n\n  transporter.sendMail(mail, (err, data) => {\n    if (err) {\n      res.json({\n        status: 'fail'\n      })\n    } else {\n      res.json({\n       status: 'success'\n      })\n    }\n  })\n})\n\nconst app = express()\napp.use(cors())\napp.use(express.json())\napp.use('/', router)\napp.listen(3002)"]},"metadata":{},"sourceType":"module"}